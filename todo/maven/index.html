<!doctype html>
<html lang="en-us">
  <head>
    <title> // JiangX</title>
    <meta charset="utf-8" />
    <meta name="generator" content="Hugo 0.57.2" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="author" content="Jiang Xing" />
    <meta name="description" content="" />
    <link rel="stylesheet" href="https://vincent-wuhan.github.io/css/main.min.59023e5fd38d6ecb0e1dfbb295077c3c67e00e3b9eb3feaf34b5a5e6b332897a.css" />

    
    <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content=""/>
<meta name="twitter:description" content="maven 常用命令    命令 说明     mvn -version 查看maven的版本及配置信息   mvn archetype:create -DgroupId= DartifactId= 构建java项目   mvn archetype:create -DgroupId= DartifactId= -DarchetypeArtifactId=maven-archetype-webapp 创建web项目   mvn compile 编译项目代码   mvn package 打包项目   mvn package -Dmaven.test.skip=true 打包项目时跳过单元测试   mvn test 运行单元测试   mvn clean 清除编译产生的target文件夹内容，可以配合相应命令一起使用，如mvn clean package， mvn clean test   mvn install 打包后将其安装在本地仓库   mvn deploy 打包后将其安装到pom文件中配置的远程仓库   mvn eclipse:eclipse 将maven生成eclipse项目结构   mvn eclipse:clean 清除maven项目中eclipse的项目结构   mvn site 生成站点目录   mvn dependency:list 显示所有已经解析的所有依赖   mvn dependency:tree 以树的结构展示项目中的依赖   mvn dependency:analyze 对项目中的依赖进行分析，依赖未使用，使用单未引入   mvn tomcat:run 启动tomcat    POM文件 pom文件是maven中最重要的文件，以上命令的也需要根据pom文件进行运行。一般在构建完maven项目后需要修改pom文件添加诸如依赖关系，打包机制及一些项目的详细信息。一般的pom包含如下一些基本的信息： | 标签 | 说明| |:&mdash;&mdash;-|:&mdash;| groupId|项目或者组织的唯一标志 artifactId|项目的名称 version|项目的版本 packaging|打包机制 name|用户描述项目的名称 url|应该是只是写明开发团队的网站"/>

    <meta property="og:title" content="" />
<meta property="og:description" content="maven 常用命令    命令 说明     mvn -version 查看maven的版本及配置信息   mvn archetype:create -DgroupId= DartifactId= 构建java项目   mvn archetype:create -DgroupId= DartifactId= -DarchetypeArtifactId=maven-archetype-webapp 创建web项目   mvn compile 编译项目代码   mvn package 打包项目   mvn package -Dmaven.test.skip=true 打包项目时跳过单元测试   mvn test 运行单元测试   mvn clean 清除编译产生的target文件夹内容，可以配合相应命令一起使用，如mvn clean package， mvn clean test   mvn install 打包后将其安装在本地仓库   mvn deploy 打包后将其安装到pom文件中配置的远程仓库   mvn eclipse:eclipse 将maven生成eclipse项目结构   mvn eclipse:clean 清除maven项目中eclipse的项目结构   mvn site 生成站点目录   mvn dependency:list 显示所有已经解析的所有依赖   mvn dependency:tree 以树的结构展示项目中的依赖   mvn dependency:analyze 对项目中的依赖进行分析，依赖未使用，使用单未引入   mvn tomcat:run 启动tomcat    POM文件 pom文件是maven中最重要的文件，以上命令的也需要根据pom文件进行运行。一般在构建完maven项目后需要修改pom文件添加诸如依赖关系，打包机制及一些项目的详细信息。一般的pom包含如下一些基本的信息： | 标签 | 说明| |:&mdash;&mdash;-|:&mdash;| groupId|项目或者组织的唯一标志 artifactId|项目的名称 version|项目的版本 packaging|打包机制 name|用户描述项目的名称 url|应该是只是写明开发团队的网站" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://vincent-wuhan.github.io/todo/maven/" />



  </head>
  <body>
    <header class="app-header">
      <a href="https://vincent-wuhan.github.io"><img class="app-header-avatar" src="https://vincent-wuhan.github.io/avatar.jpg" alt="Jiang Xing" /></a>
      <h1>JiangX</h1>
      <p>Xing&#39;s personal website</p>
      <div class="app-header-social">
        
          <a target="_blank" href="https://github.com/johndoe/"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-link">
  <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path>
  <path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path>
</svg></a>
        
      </div>
    </header>
    <main class="app-container">
      
  <article class="post">
    <header class="post-header">
      <h1 class ="post-title"></h1>
      <div class="post-meta">
        <div>
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-calendar">
  <title>calendar</title>
  <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line>
</svg>
          Jan 1, 0001
        </div>
        <div>
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-clock">
  <title>clock</title>
  <circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline>
</svg>
          2 min read
        </div></div>
    </header>
    <div class="post-content">
      

<h1 id="maven">maven</h1>

<h2 id="常用命令">常用命令</h2>

<table>
<thead>
<tr>
<th align="left">命令</th>
<th align="left">说明</th>
</tr>
</thead>

<tbody>
<tr>
<td align="left">mvn -version</td>
<td align="left">查看maven的版本及配置信息</td>
</tr>

<tr>
<td align="left">mvn archetype:create   -DgroupId=    DartifactId=</td>
<td align="left">构建java项目</td>
</tr>

<tr>
<td align="left">mvn archetype:create   -DgroupId=    DartifactId=    -DarchetypeArtifactId=maven-archetype-webapp</td>
<td align="left">创建web项目</td>
</tr>

<tr>
<td align="left">mvn compile</td>
<td align="left">编译项目代码</td>
</tr>

<tr>
<td align="left">mvn package</td>
<td align="left">打包项目</td>
</tr>

<tr>
<td align="left">mvn package -Dmaven.test.skip=true</td>
<td align="left">打包项目时跳过单元测试</td>
</tr>

<tr>
<td align="left">mvn test</td>
<td align="left">运行单元测试</td>
</tr>

<tr>
<td align="left">mvn clean</td>
<td align="left">清除编译产生的target文件夹内容，可以配合相应命令一起使用，如mvn clean package， mvn clean test</td>
</tr>

<tr>
<td align="left">mvn install</td>
<td align="left">打包后将其安装在本地仓库</td>
</tr>

<tr>
<td align="left">mvn deploy</td>
<td align="left">打包后将其安装到pom文件中配置的远程仓库</td>
</tr>

<tr>
<td align="left">mvn eclipse:eclipse</td>
<td align="left">将maven生成eclipse项目结构</td>
</tr>

<tr>
<td align="left">mvn eclipse:clean</td>
<td align="left">清除maven项目中eclipse的项目结构</td>
</tr>

<tr>
<td align="left">mvn site</td>
<td align="left">生成站点目录</td>
</tr>

<tr>
<td align="left">mvn dependency:list</td>
<td align="left">显示所有已经解析的所有依赖</td>
</tr>

<tr>
<td align="left">mvn dependency:tree</td>
<td align="left">以树的结构展示项目中的依赖</td>
</tr>

<tr>
<td align="left">mvn dependency:analyze</td>
<td align="left">对项目中的依赖进行分析，依赖未使用，使用单未引入</td>
</tr>

<tr>
<td align="left">mvn tomcat:run</td>
<td align="left">启动tomcat</td>
</tr>
</tbody>
</table>

<hr />

<h2 id="pom文件">POM文件</h2>

<p>pom文件是maven中最重要的文件，以上命令的也需要根据pom文件进行运行。一般在构建完maven项目后需要修改pom文件添加诸如依赖关系，打包机制及一些项目的详细信息。一般的pom包含如下一些基本的信息：
| 标签  | 说明|
|:&mdash;&mdash;-|:&mdash;|
groupId|项目或者组织的唯一标志
artifactId|项目的名称
version|项目的版本
packaging|打包机制
name|用户描述项目的名称
url|应该是只是写明开发团队的网站</p>

<h2 id="maven源设置">Maven源设置</h2>

<p>在maven安装目录下找到settings.xml配置文件,在&lt;cirrors&gt;标签内添加阿里国内源</p>
<div class="highlight"><pre style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml"> <span style="font-weight:bold">&lt;mirror&gt;</span>
     <span style="font-weight:bold">&lt;id&gt;</span>alimaven<span style="font-weight:bold">&lt;/id&gt;</span>
     <span style="font-weight:bold">&lt;mirrorOf&gt;</span>central<span style="font-weight:bold">&lt;/mirrorOf&gt;</span>
     <span style="font-weight:bold">&lt;name&gt;</span>aliyun maven<span style="font-weight:bold">&lt;/name&gt;</span>
     <span style="font-weight:bold">&lt;url&gt;</span>http://maven.aliyun.com/nexus/content/repositories/central/<span style="font-weight:bold">&lt;/url&gt;</span>
 <span style="font-weight:bold">&lt;/mirror&gt;</span></code></pre></div>
<h2 id="maven应用">Maven应用</h2>

<h3 id="编译选项">编译选项</h3>

<table>
<thead>
<tr>
<th align="left">Maven选项</th>
<th align="left">说明</th>
</tr>
</thead>

<tbody>
<tr>
<td align="left">-pl, &ndash;projects</td>
<td align="left">指定项目</td>
</tr>

<tr>
<td align="left">-am, &ndash;also-make</td>
<td align="left">表示同时处理选定模块所依赖的模块</td>
</tr>

<tr>
<td align="left">-amd, &ndash;also-make-dependents</td>
<td align="left">表示同时处理依赖选定模块的模块</td>
</tr>

<tr>
<td align="left">-T 1c</td>
<td align="left">表示每个cpu编译个工程</td>
</tr>

<tr>
<td align="left">-Dmaven.test.skip</td>
<td align="left">跳过测试用例开关</td>
</tr>

<tr>
<td align="left">-Dmaven.compile.fork</td>
<td align="left">多线程编译开关</td>
</tr>

<tr>
<td align="left">-N, &ndash;Non-recursive</td>
<td align="left">表示不递归子模块</td>
</tr>

<tr>
<td align="left">-rf, &ndash;resume-from</td>
<td align="left">表示从指定模块开始继续处理</td>
</tr>
</tbody>
</table>

<h3 id="maven单独构建多模块项目中的单个模块">Maven单独构建多模块项目中的单个模块</h3>

<p>说明</p>

<ul>
<li>可能存在的场景，多模块项目没有互相引用，那么此时可以单独构建单个项目，指定到子模块的pom.xml文件即可完成编译。</li>
<li>如果多模块项目各自都引用了，那么单独编译子模块的pom.xml文件会直接报错，解决方法就是编译父项目pom.xml。</li>

<li><p>如果编译父项目，那么可能会造成编译时间很慢，其中有些项目也不需要编译，解决方法如下：</p>
<div class="highlight"><pre style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-txt" data-lang="txt">1 切换到工程的根目录

2 单独构建模块jsoft-web，同时会构建jsoft-web模块依赖的其他模块
mvn install -pl jsoft-web -am

3 单独构建模块jsoft-common，同时构建依赖模块jsoft-common的其他模块 
mvn install -pl jsoft-common -am -amd</code></pre></div></li>
</ul>

<h3 id="docker镜像生成">Docker镜像生成</h3>

<ul>
<li>需求</li>
</ul>

<blockquote>
<ol>
<li>opendaylight feature和base分离，feature打包成kar后build为docker镜像</li>
<li>尽量不修改开源opendaylight的feature pom</li>
</ol>
</blockquote>

<ul>
<li>思路</li>
</ul>

<blockquote>
<p>针对feature的子pom编写父pom
父pom使用新增编译选项-Pkar -Pdocker
feature子pom集成父pom编译生成kar和docker镜像</p>
</blockquote>

<ul>
<li>解决方法</li>
</ul>

<blockquote>
<ol>
<li>生成包含feature镜像构建用的dockerfile的jar包</li>
<li>新增父pom，添加编译选项-Pkar和-Pdocker</li>
<li>子feature pom集成父pom</li>
</ol>
</blockquote>

<p>使用的插件列表
|插件|说明|
|:&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;|:&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-|
|karaf-maven-plugin| 构建kar包|
|docker-maven-plugin| 构建docker|
|maven-dependency-plugin| 解压kar包|
|maven-resources-plugin| 拷贝kar包|</p>

<p>父pom编译选项 -Pkar</p>
<div class="highlight"><pre style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml"><span style="font-weight:bold">&lt;profile&gt;</span>
    <span style="font-weight:bold">&lt;id&gt;</span>kar<span style="font-weight:bold">&lt;/id&gt;</span>
    <span style="font-weight:bold">&lt;build&gt;</span>
        <span style="font-weight:bold">&lt;plugins&gt;</span>
            <span style="font-weight:bold">&lt;plugin&gt;</span>
                <span style="font-weight:bold">&lt;groupId&gt;</span>org.apache.karaf.tooling<span style="font-weight:bold">&lt;/groupId&gt;</span>
                <span style="font-weight:bold">&lt;artifactId&gt;</span>karaf-maven-plugin<span style="font-weight:bold">&lt;/artifactId&gt;</span>
                <span style="font-weight:bold">&lt;version&gt;</span>4.1.7<span style="font-weight:bold">&lt;/version&gt;</span>
                <span style="font-weight:bold">&lt;extensions&gt;</span>true<span style="font-weight:bold">&lt;/extensions&gt;</span>
                <span style="font-weight:bold">&lt;executions&gt;</span>
                    <span style="font-weight:bold">&lt;execution&gt;</span>
                        <span style="font-weight:bold">&lt;id&gt;</span>features-generate-descriptor<span style="font-weight:bold">&lt;/id&gt;</span>
                        <span style="font-weight:bold">&lt;phase&gt;</span>verify<span style="font-weight:bold">&lt;/phase&gt;</span>
                        <span style="font-weight:bold">&lt;goals&gt;</span>
                            <span style="font-weight:bold">&lt;goal&gt;</span>features-generate-descriptor<span style="font-weight:bold">&lt;/goal&gt;</span>
                        <span style="font-weight:bold">&lt;/goals&gt;</span>
                        <span style="font-weight:bold">&lt;configuration&gt;</span>
                            <span style="font-weight:bold">&lt;inputFile&gt;</span>feature.xml<span style="font-weight:bold">&lt;/inputFile&gt;</span>
                            <span style="font-weight:bold">&lt;ignoreScopeProvided&gt;</span>true<span style="font-weight:bold">&lt;/ignoreScopeProvided&gt;</span>
                        <span style="font-weight:bold">&lt;/configuration&gt;</span>
                    <span style="font-weight:bold">&lt;/execution&gt;</span>
                    <span style="font-weight:bold">&lt;execution&gt;</span>
                        <span style="font-weight:bold">&lt;id&gt;</span>features-create-kar<span style="font-weight:bold">&lt;/id&gt;</span>
                        <span style="font-weight:bold">&lt;phase&gt;</span>verify<span style="font-weight:bold">&lt;/phase&gt;</span>
                        <span style="font-weight:bold">&lt;goals&gt;</span>
                            <span style="font-weight:bold">&lt;goal&gt;</span>kar<span style="font-weight:bold">&lt;/goal&gt;</span>
                        <span style="font-weight:bold">&lt;/goals&gt;</span>
                    <span style="font-weight:bold">&lt;/execution&gt;</span>
                <span style="font-weight:bold">&lt;/executions&gt;</span>
            <span style="font-weight:bold">&lt;/plugin&gt;</span>
        <span style="font-weight:bold">&lt;/plugins&gt;</span>
    <span style="font-weight:bold">&lt;/build&gt;</span>
<span style="font-weight:bold">&lt;/profile&gt;</span></code></pre></div>
<p>父pom编译选项 -Pdocker</p>
<div class="highlight"><pre style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml"><span style="font-weight:bold">&lt;profile&gt;</span>
    <span style="font-weight:bold">&lt;id&gt;</span>docker<span style="font-weight:bold">&lt;/id&gt;</span>
    <span style="font-weight:bold">&lt;activation&gt;</span>
        <span style="font-weight:bold">&lt;activeByDefault&gt;</span>false<span style="font-weight:bold">&lt;/activeByDefault&gt;</span>
    <span style="font-weight:bold">&lt;/activation&gt;</span>
    <span style="font-weight:bold">&lt;dependencies&gt;</span>
        <span style="font-weight:bold">&lt;dependency&gt;</span>
            <span style="font-weight:bold">&lt;groupId&gt;</span>com.fiberhome.sdn.base<span style="font-weight:bold">&lt;/groupId&gt;</span>
            <span style="font-weight:bold">&lt;artifactId&gt;</span>docker-config<span style="font-weight:bold">&lt;/artifactId&gt;</span>
            <span style="font-weight:bold">&lt;version&gt;</span>1.0.0<span style="font-weight:bold">&lt;/version&gt;</span>
        <span style="font-weight:bold">&lt;/dependency&gt;</span>
    <span style="font-weight:bold">&lt;/dependencies&gt;</span>
    <span style="font-weight:bold">&lt;build&gt;</span>
        <span style="font-weight:bold">&lt;plugins&gt;</span>
            <span style="font-weight:bold">&lt;plugin&gt;</span>
                <span style="font-weight:bold">&lt;groupId&gt;</span>org.apache.maven.plugins<span style="font-weight:bold">&lt;/groupId&gt;</span>
                <span style="font-weight:bold">&lt;artifactId&gt;</span>maven-dependency-plugin<span style="font-weight:bold">&lt;/artifactId&gt;</span>
                <span style="font-weight:bold">&lt;version&gt;</span>3.0.1<span style="font-weight:bold">&lt;/version&gt;</span>
                <span style="font-weight:bold">&lt;executions&gt;</span>
                    <span style="font-weight:bold">&lt;execution&gt;</span>
                        <span style="font-weight:bold">&lt;id&gt;</span>unpack-dependencies<span style="font-weight:bold">&lt;/id&gt;</span>
                        <span style="font-weight:bold">&lt;phase&gt;</span>verify<span style="font-weight:bold">&lt;/phase&gt;</span>
                        <span style="font-weight:bold">&lt;goals&gt;</span>
                            <span style="font-weight:bold">&lt;goal&gt;</span>unpack<span style="font-weight:bold">&lt;/goal&gt;</span>
                        <span style="font-weight:bold">&lt;/goals&gt;</span>
                        <span style="font-weight:bold">&lt;configuration&gt;</span>
                            <span style="font-weight:bold">&lt;artifactItems&gt;</span>
                                <span style="font-weight:bold">&lt;artifactItem&gt;</span>
                                    <span style="font-weight:bold">&lt;groupId&gt;</span>com.fiberhome.sdn.base<span style="font-weight:bold">&lt;/groupId&gt;</span>
                                    <span style="font-weight:bold">&lt;artifactId&gt;</span>docker-config<span style="font-weight:bold">&lt;/artifactId&gt;</span>
                                    <span style="font-weight:bold">&lt;version&gt;</span>1.0.0<span style="font-weight:bold">&lt;/version&gt;</span>
                                    <span style="font-weight:bold">&lt;outputDirectory&gt;</span>${project.build.directory}/docker<span style="font-weight:bold">&lt;/outputDirectory&gt;</span>
                                    <span style="font-weight:bold">&lt;includes&gt;</span>docker/**<span style="font-weight:bold">&lt;/includes&gt;</span>
                                <span style="font-weight:bold">&lt;/artifactItem&gt;</span>
                            <span style="font-weight:bold">&lt;/artifactItems&gt;</span>
                        <span style="font-weight:bold">&lt;/configuration&gt;</span>
                    <span style="font-weight:bold">&lt;/execution&gt;</span>
                <span style="font-weight:bold">&lt;/executions&gt;</span>
            <span style="font-weight:bold">&lt;/plugin&gt;</span>
            <span style="font-weight:bold">&lt;plugin&gt;</span>
                <span style="font-weight:bold">&lt;artifactId&gt;</span>maven-resources-plugin<span style="font-weight:bold">&lt;/artifactId&gt;</span>
                <span style="font-weight:bold">&lt;version&gt;</span>3.0.2<span style="font-weight:bold">&lt;/version&gt;</span>
                <span style="font-weight:bold">&lt;executions&gt;</span>
                    <span style="font-weight:bold">&lt;execution&gt;</span>
                        <span style="font-weight:bold">&lt;id&gt;</span>copy-resources-feature<span style="font-weight:bold">&lt;/id&gt;</span>
                        <span style="font-weight:bold">&lt;phase&gt;</span>verify<span style="font-weight:bold">&lt;/phase&gt;</span>
                        <span style="font-weight:bold">&lt;goals&gt;</span>
                            <span style="font-weight:bold">&lt;goal&gt;</span>copy-resources<span style="font-weight:bold">&lt;/goal&gt;</span>
                        <span style="font-weight:bold">&lt;/goals&gt;</span>
                        <span style="font-weight:bold">&lt;configuration&gt;</span>
                            <span style="font-weight:bold">&lt;outputDirectory&gt;</span>${project.build.directory}/docker/docker<span style="font-weight:bold">&lt;/outputDirectory&gt;</span>
                            <span style="font-weight:bold">&lt;resources&gt;</span>
                                <span style="font-weight:bold">&lt;resource&gt;</span>
                                    <span style="font-weight:bold">&lt;directory&gt;</span>${project.build.directory}<span style="font-weight:bold">&lt;/directory&gt;</span>
                                    <span style="font-weight:bold">&lt;includes&gt;</span>
                                        <span style="font-weight:bold">&lt;include&gt;</span>*.kar<span style="font-weight:bold">&lt;/include&gt;</span>
                                    <span style="font-weight:bold">&lt;/includes&gt;</span>
                                <span style="font-weight:bold">&lt;/resource&gt;</span>
                            <span style="font-weight:bold">&lt;/resources&gt;</span>
                        <span style="font-weight:bold">&lt;/configuration&gt;</span>
                    <span style="font-weight:bold">&lt;/execution&gt;</span>
                <span style="font-weight:bold">&lt;/executions&gt;</span>
            <span style="font-weight:bold">&lt;/plugin&gt;</span>
            <span style="font-weight:bold">&lt;plugin&gt;</span>
                <span style="font-weight:bold">&lt;groupId&gt;</span>io.fabric8<span style="font-weight:bold">&lt;/groupId&gt;</span>
                <span style="font-weight:bold">&lt;artifactId&gt;</span>docker-maven-plugin<span style="font-weight:bold">&lt;/artifactId&gt;</span>
                <span style="font-weight:bold">&lt;version&gt;</span>${fabric8.version}<span style="font-weight:bold">&lt;/version&gt;</span>

                <span style="font-weight:bold">&lt;configuration&gt;</span>
                    <span style="font-weight:bold">&lt;verbose&gt;</span>true<span style="font-weight:bold">&lt;/verbose&gt;</span>
                    <span style="font-weight:bold">&lt;apiVersion&gt;</span>1.23<span style="font-weight:bold">&lt;/apiVersion&gt;</span>
                    <span style="font-weight:bold">&lt;registry&gt;</span>10.190.49.56:10081<span style="font-weight:bold">&lt;/registry&gt;</span>
                    <span style="font-weight:bold">&lt;authConfig&gt;</span>
                        <span style="font-weight:bold">&lt;pull&gt;</span>
                            <span style="font-weight:bold">&lt;username&gt;</span>docker<span style="font-weight:bold">&lt;/username&gt;</span>
                            <span style="font-weight:bold">&lt;password&gt;</span>docker<span style="font-weight:bold">&lt;/password&gt;</span>
                        <span style="font-weight:bold">&lt;/pull&gt;</span>
                    <span style="font-weight:bold">&lt;/authConfig&gt;</span>
                    <span style="font-weight:bold">&lt;images&gt;</span>

                        <span style="color:#007f7f">&lt;!-- Build  image --&gt;</span>
                        <span style="font-weight:bold">&lt;image&gt;</span>
                            <span style="font-weight:bold">&lt;name&gt;</span>fiberhome/${project.artifactId}<span style="font-weight:bold">&lt;/name&gt;</span>
                            <span style="font-weight:bold">&lt;alias&gt;</span>odl<span style="font-weight:bold">&lt;/alias&gt;</span>
                            <span style="font-weight:bold">&lt;build&gt;</span>
                                <span style="font-weight:bold">&lt;cleanup&gt;</span>try<span style="font-weight:bold">&lt;/cleanup&gt;</span>
                                <span style="font-weight:bold">&lt;dockerFileDir&gt;</span>${project.build.directory}/docker/docker<span style="font-weight:bold">&lt;/dockerFileDir&gt;</span>
                                <span style="font-weight:bold">&lt;tags&gt;</span>
                                    <span style="font-weight:bold">&lt;tag&gt;</span>${docker.tag}<span style="font-weight:bold">&lt;/tag&gt;</span>
                                <span style="font-weight:bold">&lt;/tags&gt;</span>
                            <span style="font-weight:bold">&lt;/build&gt;</span>
                        <span style="font-weight:bold">&lt;/image&gt;</span>
                    <span style="font-weight:bold">&lt;/images&gt;</span>
                <span style="font-weight:bold">&lt;/configuration&gt;</span>
                <span style="font-weight:bold">&lt;executions&gt;</span>
                    <span style="font-weight:bold">&lt;execution&gt;</span>
                        <span style="font-weight:bold">&lt;id&gt;</span>clean-images<span style="font-weight:bold">&lt;/id&gt;</span>
                        <span style="font-weight:bold">&lt;phase&gt;</span>pre-clean<span style="font-weight:bold">&lt;/phase&gt;</span>
                        <span style="font-weight:bold">&lt;goals&gt;</span>
                            <span style="font-weight:bold">&lt;goal&gt;</span>remove<span style="font-weight:bold">&lt;/goal&gt;</span>
                        <span style="font-weight:bold">&lt;/goals&gt;</span>
                        <span style="font-weight:bold">&lt;configuration&gt;</span>
                            <span style="font-weight:bold">&lt;removeAll&gt;</span>true<span style="font-weight:bold">&lt;/removeAll&gt;</span>
                            <span style="font-weight:bold">&lt;image&gt;</span>fiberhome/${project.artifactId}<span style="font-weight:bold">&lt;/image&gt;</span>
                        <span style="font-weight:bold">&lt;/configuration&gt;</span>
                    <span style="font-weight:bold">&lt;/execution&gt;</span>

                    <span style="font-weight:bold">&lt;execution&gt;</span>
                        <span style="font-weight:bold">&lt;id&gt;</span>generate-images<span style="font-weight:bold">&lt;/id&gt;</span>
                        <span style="font-weight:bold">&lt;phase&gt;</span>install<span style="font-weight:bold">&lt;/phase&gt;</span>
                        <span style="font-weight:bold">&lt;goals&gt;</span>
                            <span style="font-weight:bold">&lt;goal&gt;</span>build<span style="font-weight:bold">&lt;/goal&gt;</span>
                        <span style="font-weight:bold">&lt;/goals&gt;</span>
                    <span style="font-weight:bold">&lt;/execution&gt;</span>

                    <span style="font-weight:bold">&lt;execution&gt;</span>
                        <span style="font-weight:bold">&lt;id&gt;</span>push-images<span style="font-weight:bold">&lt;/id&gt;</span>
                        <span style="font-weight:bold">&lt;phase&gt;</span>deploy<span style="font-weight:bold">&lt;/phase&gt;</span>
                        <span style="font-weight:bold">&lt;goals&gt;</span>
                            <span style="font-weight:bold">&lt;goal&gt;</span>push<span style="font-weight:bold">&lt;/goal&gt;</span>
                        <span style="font-weight:bold">&lt;/goals&gt;</span>
                        <span style="font-weight:bold">&lt;configuration&gt;</span>
                            <span style="font-weight:bold">&lt;image&gt;</span>fiberhome/${project.artifactId}<span style="font-weight:bold">&lt;/image&gt;</span>
                        <span style="font-weight:bold">&lt;/configuration&gt;</span>
                    <span style="font-weight:bold">&lt;/execution&gt;</span>
                <span style="font-weight:bold">&lt;/executions&gt;</span>
            <span style="font-weight:bold">&lt;/plugin&gt;</span>
        <span style="font-weight:bold">&lt;/plugins&gt;</span>
    <span style="font-weight:bold">&lt;/build&gt;</span>
<span style="font-weight:bold">&lt;/profile&gt;</span></code></pre></div>
<ul>
<li>执行</li>
</ul>

<blockquote>
<p>mvn clean install -DskipTests -Pkar -Pdocker</p>
</blockquote>

    </div>
    <div class="post-footer">
      <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "Jiang Xing" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    </div>
  </article>

    </main>
  </body>
</html>
